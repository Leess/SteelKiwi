{"version":3,"sources":["main.js"],"names":["mainSlider","$block","$","each","i","el","cycle","slides","fx","timeout","paused","speed","setTimeout","mobileMenu","click","e","this","hasClass","slideUp","removeClass","slideDown","addClass","preventDefault","initTabs","href","attr","scrollToUp","animate","scrollTop","initAccordion","$headers","find","$content","not","hide","isActive","parent","next","stop","initPhoneMask","mask","checkVisibleSections","visiblePercent","window","height","$sections","add","hash","$menuItems","filter","length","id","closest","initSliderEquipment","siblings","prev","carouselVertical","initMap","init","myMap","ymaps","Map","center","zoom","behaviors","disable","myPlacemark","Placemark","geoObjects","html","ready","scrollToElem","distance","offset","headerOffset","outerHeight","top","initPopup","fancybox","minWidth","topRatio","margin","tpl","wrap","closeBtn","validateForms","extend","validator","messages","required","remote","email","url","date","dateISO","number","digits","creditcard","equalTo","extension","maxlength","format","minlength","rangelength","range","max","min","validate","validClass","errorElement","submitHandler","form","handleSubmitForm","trigger","highlight","element","errorClass","unhighlight","errorPlacement","error","event","ajax","type","data","serialize","beforeSend","success","msg","fixHeader","sticky","topSpacing","load","scroll"],"mappings":"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","file":"scripts.js","sourcesContent":["$( function() {   \r\n    $('section:in-viewport').addClass('animated');    \r\n    checkVisibleSections();\r\n    scrollToElem();\r\n    scrollToUp();    \r\n    fixHeader();\r\n    initPhoneMask();\r\n    validateForms();\r\n    initPopup();\r\n    initSliderEquipment();\r\n    initAccordion();\r\n    initTabs();\r\n    initMap();\r\n    scrollToUp(); \r\n    mobileMenu();\r\n    mainSlider();\r\n\r\n});\r\n\r\n\r\n$(window).load(function(){\r\n    checkVisibleSections();\r\n});\r\n\r\n$(window).scroll(function(){\r\n    checkVisibleSections();\r\n});\r\n\r\nfunction mainSlider($block){\r\n    $('.main_slider ul li').each(function(i, el){\r\n\r\n\r\n        $(el).cycle({\r\n            slides: ' > img',\r\n            fx: 'carousel',           \r\n            timeout: 12000,\r\n            paused: true,\r\n            speed: 1000,\r\n\r\n        })\r\n            .cycle('stop');\r\n        setTimeout(function(){\r\n            $(el).cycle('resume');\r\n\r\n        }, i * 2000);\r\n    });\r\n}\r\nfunction mobileMenu() {\r\n\r\n    $('.mobile_menu').click(function(e){\r\n\r\n\r\n        if($(this).hasClass('active')) {\r\n            $('.header_menu nav').slideUp();\r\n            $(this).removeClass('active');\r\n        } else {\r\n            $('.header_menu nav').slideDown();\r\n            $(this).addClass('active'); \r\n\r\n        }\r\n\r\n\r\n        e.preventDefault();\r\n\r\n    });\r\n\r\n\r\n} \r\n\r\nfunction initTabs() {\r\n\r\n    $('#clients a').click(function(e){\r\n        $('#clients a').removeClass('active');\r\n        $('.clients__tabs_group-logo').removeClass('active');\r\n\r\n        $(this).addClass('active');\r\n        var href = $(this).attr('href'); \r\n        $(href).addClass('active');\r\n        e.preventDefault();\r\n    });\r\n}\r\n\r\nfunction scrollToUp() {\r\n    $(\".button-up\").click(function() {\r\n        $(\"html, body\").animate({ scrollTop: 0 }, 1500);\r\n        return false;\r\n    });\r\n}\r\n\r\nfunction initAccordion() {\r\n    var $block = $('#clients_mobile');\r\n    var $headers = $block.find('dt a');\r\n    var $content = $block.find('dd');\r\n    $content.not('.active + dd').hide();\r\n\r\n    $headers.click(function(e){\r\n        var isActive = $(this).parent().hasClass('active');\r\n        if(isActive) {\r\n            $(this).parent().next().slideUp();\r\n            $(this).parent().removeClass('active');\r\n        } else {\r\n            $content.stop().slideUp();\r\n            $headers.parent().removeClass('active');\r\n            $(this).parent().next().stop().slideDown();\r\n            $(this).parent().addClass('active');\r\n        }\r\n        e.preventDefault();\r\n    });\r\n}\r\n\r\nfunction initPhoneMask() {\r\n    $('input[type=\"tel\"]').mask(\"+7 (999) 999-99-99\");\r\n}\r\n\r\nfunction checkVisibleSections() {\r\n    $('section:in-viewport').addClass('animated');      \r\n\r\n\r\n    var visiblePercent = $(window).height() / 100 * 49;\r\n    var $sections = $([]);\r\n\r\n    $('nav a').each(function(){\r\n        $sections = $sections.add($(this.hash));\r\n    });\r\n    var $menuItems = $('nav li');\r\n    if(!$sections.filter(':in-viewport(' + visiblePercent +')').length) return;\r\n\r\n    $sections.removeClass('visible');\r\n    $menuItems.find('a').removeClass('active');\r\n    $sections.filter(':in-viewport(' + visiblePercent +')').addClass('visible');\r\n\r\n    var id = \"#\" + $sections.filter('.visible').attr('id');\r\n    $menuItems.find('a[href=\"' + id + '\"]').closest('a').addClass('active');\r\n}\r\nfunction initSliderEquipment() {\r\n    $('.equipment__list ul, .products__list ul').each(function() {\r\n        var next = $(this).siblings('.arrow_up');\r\n        var prev = $(this).siblings('.arrow_down');\r\n        $(this).cycle({\r\n            slides: ' > li',\r\n            fx: 'carousel',          \r\n            next: next,\r\n            prev: prev,                  \r\n            speed: 2000,\r\n            carouselVertical: true,\r\n            timeout: 3000,\r\n            paused: false\r\n        });\r\n    });\r\n    $('.equipment__list_mobile ul, .products__list_mobile ul').each(function() {\r\n        var next = $(this).siblings('.arrow_up');\r\n        var prev = $(this).siblings('.arrow_down');\r\n        $(this).cycle({\r\n            slides: ' > li',\r\n            fx: 'scrollHorz',          \r\n            next: next,\r\n            prev: prev,                  \r\n            speed: 2000,\r\n            //            carouselVertical: true,\r\n            timeout: 3000,\r\n            paused: false\r\n        });\r\n    });\r\n}\r\nfunction initMap() {\r\n    if(typeof ymaps == 'undefined') return;\r\n    $('#location__map').html('');\r\n    var myMap, \r\n        myPlacemark;\r\n\r\n    function init(){ \r\n        myMap = new ymaps.Map(\"location__map\", {\r\n            center:[59.749633,30.59537],\r\n            zoom: 18\r\n\r\n        }); \r\n\r\n        myMap.behaviors.disable('scrollZoom');\r\n\r\n        myPlacemark = new ymaps.Placemark([59.749633,30.59537], {}, {\r\n            /* iconLayout: 'default#image',\r\n            iconImageHref: '',\r\n            iconImageSize: [51, 57],\r\n            iconImageOffset: [-11, -53]*/\r\n        });\r\n\r\n        myMap.geoObjects.add(myPlacemark);\r\n    }\r\n    ymaps.ready(init);\r\n}\r\n\r\n\r\n\r\nfunction scrollToElem() {\r\n    $('nav a').click(function(e){\r\n        var href = this.hash;\r\n        if(!$(href).length) return;\r\n\r\n        var distance = $(window).scrollTop() - ($(href).offset().top);\r\n        var speed = (distance > 0) ? distance / 4 : distance * -1 / 4;\r\n\r\n        var headerOffset = $('nav').outerHeight();\r\n\r\n        $('html, body').animate({scrollTop: ($(href).offset().top - headerOffset)}, speed);\r\n        e.preventDefault();\r\n    });\r\n}\r\n\r\n\r\n\r\nfunction scrollToUp() {\r\n    $(\".button-up\").click(function() {\r\n        $(\"html, body\").animate({ scrollTop: 0 }, 1500);\r\n        return false;\r\n    });\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction initPopup() {\r\n    $(' .order_btn' ).fancybox({\r\n        //        minHeight:500,\r\n        minWidth: 550,\r\n        topRatio:0,\r\n        margin:-20,\r\n        tpl: {\r\n            wrap:'<div class=\"fancybox-wrap\" tabIndex=\"-1\"><div class=\"fancybox-skin\" style=\"background:none; box-shadow:none; padding:0;\"><div class=\"fancybox-outer\"><div class=\"fancybox-inner\" ></div></div></div></div>',\r\n\r\n        },\r\n    });\r\n    $('.certificate a').fancybox({\r\n        tpl: {\r\n            wrap:'<div class=\"fancybox-wrap\" tabIndex=\"-1\"><div class=\"fancybox-skin\" style=\"background:none; box-shadow:none; padding:0;\"><div class=\"fancybox-outer\"><div class=\"fancybox-inner\" ></div></div></div></div>',\r\n\r\n        },\r\n        closeBtn:false,\r\n    });\r\n\r\n}\r\n\r\n\r\nfunction validateForms() {\r\n    $.extend($.validator.messages, {\r\n        required: \"Это поле необходимо заполнить.\",\r\n        remote: \"Пожалуйста, введите правильное значение.\",\r\n        email: \"Пожалуйста, введите корректный адрес электронной почты.\",\r\n        url: \"Пожалуйста, введите корректный URL.\",\r\n        date: \"Пожалуйста, введите корректную дату.\",\r\n        dateISO: \"Пожалуйста, введите корректную дату в формате ISO.\",\r\n        number: \"Пожалуйста, введите число.\",\r\n        digits: \"Пожалуйста, вводите только цифры.\",\r\n        creditcard: \"Пожалуйста, введите правильный номер кредитной карты.\",\r\n        equalTo: \"Пожалуйста, введите такое же значение ещё раз.\",\r\n        extension: \"Пожалуйста, выберите файл с правильным расширением.\",\r\n        maxlength: $.validator.format(\"Пожалуйста, введите не больше {0} символов.\"),\r\n        minlength: $.validator.format(\"Пожалуйста, введите не меньше {0} символов.\"),\r\n        rangelength: $.validator.format(\"Пожалуйста, введите значение длиной от {0} до {1} символов.\"),\r\n        range: $.validator.format(\"Пожалуйста, введите число от {0} до {1}.\"),\r\n        max: $.validator.format(\"Пожалуйста, введите число, меньшее или равное {0}.\"),\r\n        min: $.validator.format(\"Пожалуйста, введите число, большее или равное {0}.\")\r\n    });\r\n\r\n    $('form').each(function(){\r\n        $(this).validate({\r\n            validClass: 'valid',\r\n            errorElement: 'div',\r\n            submitHandler: function(form){\r\n                handleSubmitForm({}, $(form) );\r\n                $(form).trigger('reset');\r\n            },\r\n            highlight: function(element, errorClass, validClass) {\r\n                $(element).addClass('error').removeClass('valid');\r\n\r\n            },\r\n            unhighlight: function(element, errorClass, validClass) {\r\n                $(element).removeClass('error').addClass('valid');\r\n            },\r\n            errorPlacement: function(error, element) {\r\n                return true;\r\n            },\r\n        });\r\n    });\r\n}\r\n\r\n\r\n\r\nfunction handleSubmitForm(event, el) {\r\n    var form = $(el);\r\n\r\n    $.ajax({\r\n        type: 'post',\r\n        url: form.attr('action'),\r\n        data: form.serialize(),\r\n        beforeSend: function(){            \r\n            $.fancybox('#popup__tnx',{\r\n                topRatio:0,\r\n                margin:-20,\r\n                minWidth:550,\r\n                tpl: {\r\n                    wrap:'<div class=\"fancybox-wrap\" tabIndex=\"-1\"><div class=\"fancybox-skin\" style=\"background:none; box-shadow:none; padding:0;\"><div class=\"fancybox-outer\"><div class=\"fancybox-inner\"></div></div></div></div>',\r\n                    closeBtn : '<a title=\"Close\" class=\"fancybox-item fancybox-close thx\" href=\"javascript:;\"></a>',\r\n                }\r\n\r\n            });                \r\n            $('form').trigger('reset');\r\n\r\n        },\r\n        success: function(msg) {\r\n            if (msg == 'ok') {} else {}\r\n        }\r\n    });\r\n}\r\n\r\n\r\n\r\n\r\nfunction fixHeader() {\r\n\r\n    $(\"#header_menu\").sticky({ topSpacing: 0 });\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"sourceRoot":"/source/"}